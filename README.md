# harbor-script
用于存放harbor仓库存储回收脚本


### 需要修改部分：
#### 1、url（可通过进入harbor首页左下角api控制中心查看）；
#### 2、带管理权限的harbor用户名密码；
#### 3、需要排除的项目组project（无需排除设为空列表即可）。

#### 编写该脚本的初衷：
harbor仓库满了，网上找了一圈没找到一个好用的脚本，干脆自己尝试写一个，目前可实现排除特定项目后其余项目组保留每个仓库的几个最近版本，多余版本则删除，回收空间。

##### 如harbor版本不为1.9.0，api本人并未对比api是否一致，可以自行尝试，如api不同自行更改即可。
需要注意得一点是，我们image 版本的tag形式为 x.x.x.20191115152501 (版本+时间)，如镜像版本标记不同需要自行修改一下list_tag 中spilit 切分部分。
